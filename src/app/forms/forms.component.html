<div class="form-container">
  <h2>Contact Form</h2>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Name:</label>
      <input
        id="name"
        formControlName="name"
        type="text"
        placeholder="Enter your name"
      />
      <div *ngIf="submitted && form.get('name')?.errors" class="error-message">
        <div *ngIf="form.get('name')?.errors?.['required']">
          Name is required
        </div>
        <div *ngIf="form.get('name')?.errors?.['pattern']">
          Name should only contain letters and spaces
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      <input
        id="email"
        formControlName="email"
        type="email"
        placeholder="Enter your email"
      />
      <div *ngIf="submitted && form.get('email')?.errors" class="error-message">
        <div *ngIf="form.get('email')?.errors?.['required']">
          Email is required
        </div>
        <div *ngIf="form.get('email')?.errors?.['email']">
          Invalid email format
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="message">Message:</label>
      <textarea
        id="message"
        formControlName="message"
        rows="4"
        placeholder="Enter your message"
      ></textarea>
      <div
        *ngIf="submitted && form.get('message')?.errors"
        class="error-message"
      >
        <div *ngIf="form.get('message')?.errors?.['required']">
          Message is required
        </div>
        <div *ngIf="form.get('message')?.errors?.['minlength']">
          Message must be at least 10 characters long
        </div>
      </div>
    </div>

    <button type="submit" [disabled]="submitted && !form.valid">Submit</button>
  </form>

  <div *ngIf="submitSuccess" class="success-message">
    Form submitted successfully!
  </div>
</div>
